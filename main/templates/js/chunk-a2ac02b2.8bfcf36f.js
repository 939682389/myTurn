(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a2ac02b2","chunk-2d0d5bd6"],{7029:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",[a("Header",{ref:"header",attrs:{slot:"header"},on:{submit:e.handleSubmit,changeUserId:e.changeUserId,changeGroupId:e.changeGroupId,changeKeyword:e.changeKeyword,changeFilter:e.changeFilter},slot:"header"}),a("Main",{ref:"main",attrs:{"table-data":e.table,loading:e.loading},on:{submit:e.handleSubmit,select:e.handleSelect}}),a("Footer",{attrs:{slot:"footer",current:e.page.pageCurrent,size:e.page.pageSize,total:e.page.pageTotal},on:{change:e.handlePaginationChange},slot:"footer"})],1)},i=[],o=(a("d81d"),a("fb6a"),a("a9e3"),a("d3b7"),a("9c5c")),r={name:"gathering-activity",components:{Header:function(){return a.e("chunk-2d0e14ae").then(a.bind(null,"7a8f"))},Main:function(){return Promise.all([a.e("chunk-9e9c9b90"),a.e("chunk-6a07b8b6")]).then(a.bind(null,"61b7"))},Footer:function(){return a.e("chunk-74908b13").then(a.bind(null,"6168f"))}},data:function(){return{table:[],loading:!1,page:{page:1,limit:10},tags:[],multipleSelection:[]}},mounted:function(){var e=this;this.handleSubmit(),Object(o["i"])().then((function(t){console.log(t.data),200==t.data.code&&(e.tags=t.data.data.tags)})).catch((function(t){e.$notify.error("获取标签失败，请刷新页面重试"),console.log("err",t)}))},methods:{handlePaginationChange:function(e){var t=this;this.page={page:e.current,limit:e.size},this.$nextTick((function(){t.handleSubmit()}))},handleSelect:function(e){this.multipleSelection=e},handleSubmit:function(){var e=this;this.loading=!0,Object(o["g"])(this.page).then((function(t){console.log(t.data),delete e.page["ts"],delete e.page["sig"],e.loading=!1,200==t.data.code?e.table=t.data.data.map((function(t){if(t.type=e.handleType(t.type),t.tags instanceof Array){var a="";t.tags=t.tags.map((function(t,n){a+=e.tags[t]+","})),t.tags=a.slice(0,-1)}return t})):400==t.data.code&&"获取信息为空"==t.data.message&&(e.table=[])})).catch((function(t){e.loading=!1,e.$notify.error("未知错误，请刷新页面重试"),console.log("err",t)}))},handleType:function(e){switch(e){case 0:e="线上游戏";break;case 1:e="经验分享";break;case 2:e="影视鉴赏";break;case 3:e="美食探店";break}return e},handleTags:function(e){for(var t in e);return e},changeUserId:function(e){e?this.page.user_id=e:this.page.user_id&&delete this.page.user_id},changeGroupId:function(e){e?this.page.group_id=e:this.page.group_id&&delete this.page.group_id},changeKeyword:function(e){e?this.page.keyword=e:this.page.keyword&&delete this.page.keyword},changeFilter:function(e){for(var t in e)-1==e[t]?this.page[t]&&delete this.page[t]:this.page[t]=Number(e[t]);this.handleSubmit()}}},c=r,d=a("2877"),l=Object(d["a"])(c,n,i,!1,null,null,null);t["default"]=l.exports},e24e:function(e,t,a){"use strict";a.r(t);var n=a("7029");t["default"]=n["default"]}}]);